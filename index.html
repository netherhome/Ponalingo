<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ponaLingo: Full Single Script Game</title>
<style>
body { font-family: Arial; background: #fef7e1; text-align:center; margin:0; padding:0;}
h1 { color: #6b705c; margin:10px 0; }
#dots-container { display:flex; overflow-x:auto; padding:10px; margin:10px; justify-content:center;}
.dot { width:30px; height:30px; border-radius:50%; margin:5px; display:flex; justify-content:center; align-items:center; background:#ffd6a5; cursor:pointer;}
.dot.locked { background:#ccc; cursor:not-allowed;}
.dot.completed { background:#6b705c; color:white;}
#lesson-container { margin-top:20px; }
button { padding:10px 20px; margin:10px; }
#lesson-content { margin-top:10px; font-size:1.2em; }
</style>
</head>
<body>
<h1>ponaLingo</h1>
<div id="dots-container"></div>
<div id="lesson-container">
  <h2 id="lesson-title">Select a lesson</h2>
  <div id="lesson-content"></div>
  <button id="complete-btn" style="display:none;">Complete</button>
</div>

<script>
// --- Lesson Data ---
const lessons = [];
for(let i=1;i<=10;i++){
  if(i%5===0){
    lessons.push({id:i,title:"Mini-Game "+i,type:"mini-game",gameType:"matching"});
  } else {
    lessons.push({id:i,title:"Lesson "+i,type:"lesson",words:["word"+i+"a","word"+i+"b","word"+i+"c"]});
  }
}

// --- Teacher Messages ---
const teacherMessages = {
  1:"Learn mi,sina,ona",
  5:"Mini-game! Match words fast!",
  6:"Next 4 lessons: 2 verbs, 1 adj, 1 noun",
  10:"Mini-game! Check your knowledge!"
}

// --- State ---
let currentLesson = null;
let completedLessons = [];

// --- Elements ---
const dotsContainer = document.getElementById('dots-container');
const titleEl = document.getElementById('lesson-title');
const contentEl = document.getElementById('lesson-content');
const completeBtn = document.getElementById('complete-btn');

// --- Render Dots ---
function renderDots(){
  dotsContainer.innerHTML="";
  lessons.forEach(lesson=>{
    const dot = document.createElement('div');
    dot.classList.add('dot');
    if(completedLessons.includes(lesson.id)) dot.classList.add('completed');
    else if(lesson.id>1 && !completedLessons.includes(lesson.id-1)) dot.classList.add('locked');
    dot.textContent=lesson.id;
    dot.onclick = ()=>{if(!dot.classList.contains('locked')) openLesson(lesson.id)};
    dotsContainer.appendChild(dot);
  });
}

// --- Open Lesson ---
function openLesson(id){
  const lesson = lessons.find(l=>l.id===id);
  currentLesson = lesson;
  titleEl.textContent = lesson.title;
  completeBtn.style.display="inline-block";
  
  // Show teacher message if exists
  if(teacherMessages[id]) contentEl.innerHTML = `<em>${teacherMessages[id]}</em>`;
  else if(lesson.type==="lesson") contentEl.innerHTML = "Words: "+lesson.words.join(", ");
  else if(lesson.type==="mini-game") contentEl.innerHTML = `<em>Mini-game placeholder: ${lesson.gameType}</em>`;
}

// --- Complete Lesson ---
completeBtn.onclick = ()=>{
  if(currentLesson && !completedLessons.includes(currentLesson.id)){
    completedLessons.push(currentLesson.id);
    renderDots();
    alert("Lesson "+currentLesson.id+" completed!");
  }
}

// --- Init ---
renderDots();
</script>
</body>
</html>
